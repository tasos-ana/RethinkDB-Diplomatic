<!-- HEADER SECTION  -->
<header class="header" ng-include="'./app/components/home/common/header.html'"></header>
<div class="d-flex align-items-stretch">
    <!-- SIDEBAR -->
    <nav class="nav-content" ng-class="{'shrinked' : vm.sidebarToggled}" id="sidebar" ng-include="'./app/components/home/common/sidebar.html'"></nav>
    <div class="page-content" ng-class="{'active' : vm.sidebarToggled}">
        <div class="page-header no-margin-bottom">
            <div class="container-fluid">
                <ol class="breadcrumb no-margin no-padding">
                    <li class="breadcrumb-item h5"><a href="/home">Home</a></li>
                    <li class="breadcrumb-item active text-secondary h5">Dashboard</li>
                </ol>
            </div>
        </div><br>
        <section class="no-padding no-margin">
            <!--DASHBOARD SECTION-->
            <div class="container-fluid">
                <div class="block col-lg-12">
                    <div class="title" ng-show="user.openedGroupsList.length === 0">
                        <p class="text-center text-danger"><strong>No group opened yet.</strong></p>
                    </div>
                    <div class="container" ng-show="user.openedGroupsList.length !== 0">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs">
                            <li class="nav-item" ng-repeat="gID in user.openedGroupsList" ng-click="vm.groupSetActive(gID)">
                                <a class="nav-link" ng-class="{'active' : user.activeGroup === gID}" data-toggle="tab" ng-href="#{{gID}}">
                                    <button class="close closeTab" type="button" ng-click="vm.groupClose(gID)">Ã—</button>
                                    {{user.openedGroupsData[gID].name}}
                                </a>
                            </li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane fade tab-pane-scrollable container" ng-repeat="gID in user.openedGroupsList"
                                 ng-class="{'active show' : user.activeGroup === gID}"  id={{gID}}><br>
                                <div class="form-group">
                                    <div class="input-group">
                                        <span class="input-group-btn">
                                            <div style="height: 0; width: 0; overflow: hidden;"><input type="file" id="files" name="file[]" multiple/></div>
                                            <label for="files"></label>
                                            <button type="button" class="btn btn-outline-secondary btn-xs"
                                                    ng-disabled="user.openedGroupsData[gID].upload.uploadData" title="Attach file"
                                                    ng-click="vm.openFileLoader()">
                                                    <i class="fa fa-paperclip"></i>
                                            </button>
                                        </span>
                                        <textarea class="form-control form-control-sm animate msd-elastic: \n;" placeholder="Your text..."
                                                  ng-model="user.openedGroupsData[gID].upload.data"></textarea>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-outline-primary btn-xs" ng-click="vm.uploadData(user.openedGroupsData[gID]);"
                                                    ng-disabled="user.openedGroupsData[gID].upload.uploadData"><small>UP</small></button><br>
                                            <button type="button" class="btn btn-outline-danger btn-xs" ng-click="vm.clearUploadData(gID)"
                                                    ng-show="user.openedGroupsData[gID].upload.data.length>0"
                                                    ng-disabled="user.openedGroupsData[gID].upload.uploadData"><small>Clear</small></button>
                                        </span>
                                    </div>
                                    <output id="list"></output>
                                </div>
                                <div class="messages-block block">
                                    <div class="messages">
                                        <a class="message d-flex align-items-center" ng-repeat="gData in user.openedGroupsData[gID].data | reverse"
                                                ng-class="{'border-light' : $index <= user.unreadMessages[gID]-1}">
                                            <div class="content">
                                                <span class="d-block"><strong>{{user.nickname}}</strong></span>
                                                <span class="d-block">{{gData.data}}</span>
                                                <small class="date d-block">{{gData.date}}</small>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-5"></div>
                                    <a href="" class="col-sm-3 border-primary text-primary" ng-click="vm.loadMoreData(gID)" ng-hide="user.openedGroupsData[gID].noMoreData"> Load more messages ...</a>
                                    <div class="col-sm-4"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- FOOTER -->
        <footer class="footer" ng-include="'./app/components/home/common/footer.html'"></footer>
    </div>
</div>`